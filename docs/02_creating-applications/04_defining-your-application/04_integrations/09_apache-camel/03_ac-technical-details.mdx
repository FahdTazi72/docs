---
title: 'Basics'
sidebar_label: 'Basics'
sidebar_position: 3
id: ac-technical-details
---

[Introduction](/creating-applications/defining-your-application/integrations/apache-camel/apache-camel/)  | [Where to define](/creating-applications/defining-your-application/integrations/apache-camel/ac-define/) | [Basics](/creating-applications/defining-your-application/integrations/apache-camel/ac-technical-details/) |  [Advanced](/creating-applications/defining-your-application/integrations/apache-camel/ac-advanced-technical-details/) | [More examples](/creating-applications/defining-your-application/integrations/apache-camel/ac-more-examples/) | [Configuring runtime](/creating-applications/defining-your-application/integrations/apache-camel/ac-configuring-runtime/) | [Testing](/creating-applications/defining-your-application/integrations/apache-camel/ac-testing/)

## A simple camel configuration

Here is a simple example of a *-camel.kts file. It defines a single route, that takes
```kotlin
camel {
    routeHandler {
        val pathStr = "${GenesisPaths.genesisHome()}/runtime/inbound/"
        from("file:${pathStr}/bbg/?move=.camel/\${date:now:yyyyMMdd-HHmmssSSS}-\${headers.CamelFileName}&initialDelay=5000&readLock=changed&readLockCheckInterval=5000&readLockTimeout=60000")
            .process(fileEventProcessorProvider.createProcessor("ISSUANCE_EVENT_HANDLER", "EVENT_FILE_IMPORT_BBG_ISSUANCE", "FILE", "SOURCE_NAME"))
    }
}
```

### routeHandler
The routeHandler defines the possible routes for information to flow into our system. In the above example, we are defining one such route. First it defines the `pathStr` using the `GenesisPaths` class to find the `GENESIS_HOME` system environment variable. Next it defines the route itself.

The route defined is coming from the filesystem as determined by the `file:` start to the endpoint URI. This could be any [Apache Camel component](https://camel.apache.org/components/3.16.x/index.html) that has support for a consumer.

In this instance, the File component ([defined in the Apache documentation here](https://camel.apache.org/components/3.16.x/file-component.html)) can take several path and query parameters, some of which we are using.

* `${pathStr}/bbg/` is the **directoryName** mandatory path parameter. It indicates where in the file system that Apache Camel should look for files.
* `move=.camel/\${date:now:yyyyMMdd-HHmmssSSS}-\${headers.CamelFileName}` is the **move** query parameter. This determines where the files found in the path directory should be moved to.

  Please note that both of the `$` signs are escaped (`\$`) to prevent Kotlin from injecting a variable into the string. We want these variables to be injected by Apache Camel itself rather than at a GPAL.
* `initialDelay=5000` is the **initialDelay** query parameter. This is the time in milliseconds before the system first polls the path directory.
* `readLock=changed` is the **readLock** query parameter. This sets the strategy to ensure the file being polled isn't in use.
* `readLockCheckInterval=5000` is the **readLockCheckInterval** query parameter. This sets the time between checks of the readlock.
* `readLockTimeout=60000` is the **readLockTimeout** query parameter. This sets the maximum time that Apache Camel will wait when trying to acquire a Readlock before timing out.

The route then processes the file using the `FileEventHandlerProcessor` invoked by the `fileEventProcessorProvider`. A similar method and class exists also for handling the processing of [Kafka](https://kafka.apache.org/) messages, and CSV files.