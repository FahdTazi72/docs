---
title: 'More examples'
sidebar_label: 'More examples'
sidebar_position: 5
id: ds-more-examples
---


[Introduction](/creating-applications/defining-your-application/user-interface/data-servers/data-servers/) | [Where to define](/creating-applications/defining-your-application/user-interface/data-servers/ds-where-to-define/) | [Basics](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/) |  [Advanced](/creating-applications/defining-your-application/user-interface/data-servers/ds-advanced-technical-details/) | [More examples](/creating-applications/defining-your-application/user-interface/data-servers/ds-more-examples/) | [Configuring runtime](/creating-applications/defining-your-application/user-interface/data-servers/ds-configure-runtime/) | Testing

A data server is defined in your _application_**-dataserver.kts** file.  It consists of one or more queries that return data from the database. The examples on this page should help you get started quickly.

The example below is the [simplest data server you could have](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#the-simplest-possible-definition). It has a single query that will return all the fields in the specified table.


```kotlin
dataServer {
    query(INSTRUMENT_DETAILS)
}

```


&nbsp;  
&nbsp;  
The example below has two queries queries. Each will return all the fields in the specified tables. 

```kotlin
dataServer {
    query(INSTRUMENT_DETAILS)

    query(COUNTERPARTY)
}
```


&nbsp;  
&nbsp;  

The example below has a single query. In this case, it [specifies the fields that are to be returned](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#specifying-fields). So, you don't get all the fields in the table.

```kotlin
dataServer {
    query(INSTRUMENT_DETAILS) {
        fields {
            INSTRUMENT_CODE
            INSTRUMENT_ID
            INSTRUMENT_NAME
            LAST_TRADED_PRICE
            VWAP
            SPREAD
            TRADED_CURRENCY
            EXCHANGE_ID
        }
    }
}
```

 
&nbsp;  
&nbsp;  
Below, we have added a [derived field](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#derived-fields) to the example above.  
```kotlin
dataServer {
    query(INSTRUMENT_DETAILS) {
        fields {
            INSTRUMENT_CODE
            INSTRUMENT_ID
            INSTRUMENT_NAME
            LAST_TRADED_PRICE
            VWAP
            SPREAD
            TRADED_CURRENCY
            EXCHANGE_ID
            derivedField("IS_USD", BOOLEAN) {
                tradedCurrency == "USD"
            }
        }
    }
}
```
&nbsp;  
&nbsp;  
A query can include specific [configuration settings](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#configuration-settings).


```kotlin
dataServer {
    query("SIMPLE_QUERY", SIMPLE_TABLE) {
        config {
            // Items below only available in query level config
            defaultCriteria = "SIMPLE_PRICE > 0"
            backwardsJoins = false
            disableAuthUpdates = false
        }
    }
}
```


&nbsp;  
&nbsp;  
Below, a [where clause](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#where-clauses) has been used to control access to the query. 
```kotlin
dataServer {

    query("ALL_TRADES_LARGE_POSITION", ENHANCED_TRADE_VIEW) {
        permissioning {
            permissionCodes = listOf("TRADER", "SUPPORT")
            auth(mapName = "ENTITY_VISIBILITY") {
                ENHANCED_TRADE_VIEW.COUNTERPARTY_ID
            }
        }
        where { trade -> 
            (trade.quantity * trade.price) > 1000000 
        }
    }
}
```


&nbsp;  
&nbsp;  
An [indices block](/creating-applications/defining-your-application/user-interface/data-servers/ds-technical-details/#indices), as seen in the example below, enables you to define additional indexing at the query level.

```kotlin
dataServer {
    query("SIMPLE_QUERY", SIMPLE_TABLE) {
        indices {
            unique("SIMPLE_QUERY_BY_QUANTITY") {
                QUANTITY
                SIMPLE_ID
            }
        }
    }
}
```
&nbsp;  

