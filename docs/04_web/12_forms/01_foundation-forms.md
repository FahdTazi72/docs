---
title: 'Foundation Forms'
sidebar_label: 'Foundation Forms'
id: 'foundation-forms'
keywords: [genesis, foundation, ui, forms, smart forms]
tags:
  - genesis
  - foundation
  - ui
  - forms
  - smart forms
---

# Foundation Forms

[![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lerna.js.org/)
[![TypeScript](https://img.shields.io/badge/%3C%2F%3E-TypeScript-%230074c1.svg)](https://www.typescriptlang.org/)

:::tip
You can click to view our [API documentation](./docs/api/index.md) in a separate area.
:::

`foundation-forms` is a library for building complex forms and filters at speed and at scale.

Foundation forms is defined by using two schemata:

- `resourceName`/`jsonSchema` defines the underlying data to be shown in the UI (objects, properties, and their types).
- `uiSchema` defines how this data is rendered as a form, e.g. the order of controls, their visibility, and the layout.

## Basic install

To enable this module in your application, add `@genesislcap/foundation-forms` as a dependency in your **package.json** file. 

```javascript
{
  ...
  "dependencies": {
    ...
    "@genesislcap/foundation-forms": "latest"
    ...
  },
  ...
}
```

Whenever you change the dependencies of your project, run the `$ npm run bootstrap` command again. You can find more information on the [package.json basics](../../../web/basics/package-json-basics/) page.

## Register components

Every route that uses `foundation-forms` must register the components in the file where you define the class of your route.

So for example, if I have a route called *home*, then you need to register the components in the file **home.ts**.

```ts
import { Form } from '@genesislcap/foundation-forms';
...
Form
...
```

## Add component to the template

Below is an example of a `foundation-form` using the `resourceName` attribute. This attribute must be an event defined in your server's _application-name_**-eventhandler.kts** file; in this case, the event is called EVENT_TRADE_INSERT, and it is designed to insert all information provided in the forms to the database.

The example generates a working form based on the `JSON schema` for the EVENT_TRADE_INSERT endpoint. The DevTools console will output an autogenerated `UI schema` that you can use to configure the form.

```html
<foundation-form resourceName="EVENT_TRADE_INSERT"></foundation-form>
```

## Configure form using UI schema

You can also provide a `UI schema` to the `foundation-forms` in order to customise which fields should be displayed in the forms. The **schema.ts** file should be in the same folder as the file where you define the class of your route. In the example below, we set only the fields `QUANTITY` and `SIDE`.

```ts
export const sampleUISchema = {
  type: "VerticalLayout",
  elements: [
    {
      type: "Control",
      scope: "#/properties/QUANTITY",
      label: "Quantity",
    },
    {
      type: "Control",
      scope: "#/properties/SIDE",
      label: "Side",
    },
  ],
};
```

In the template file for the route, you need to import the schema you have created:

```html
import { sampleUISchema } from './schema';
 ...
 export const HomeTemplate = html<Home>`
	...
  <foundation-form resourceName="EVENT_TRADE_INSERT" :uischema=${() => sampleUISchema}></foundation-form>
	...
`;
```

## Configure form using JSON schema (optional)

You can configure the information that is retrieved from the server by providing a `JSON schema` on the client, instead of providing a `resourceName`. The `resourceName` gives you all the fields that have been specified in the event on the server. But, with a hard-coded schema, you can change the fields and their order. However, note that if a field changes name or type on the server, you will have to change this in the schema, or it will not work.

The **JsonSchema.ts** file should be in the same folder as the file where you define the class of your route.

Here is an example of a **JsonSchema.ts** file that configures the information that is returned by the server:

```ts
export const sampleJsonSchema = {
  type: 'object',
  properties: {
    ISSUER_NAME: {
      type: 'string',
      minLength: 3,
      description: 'kotlin.String',
    },
    PRICE: {
      type: 'number',
      description: 'kotlin.Double',
    },
    MAIN_CONTACT: {
      type: 'string',
      pattern: '^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$',
      description: 'kotlin.String',
    },
    PASSWORD: {
      type: 'string',
      description: 'kotlin.String',
    },
  },
  additionalProperties: false,
  required: ['ISSUER_NAME', 'MAIN_CONTACT'],
};
```
In the template file for the route, you need to import this schema:

```html
import { sampleJsonSchema } from './JsonSchema';
 ...
 export const HomeTemplate = html<Home>`
	...
 	<foundation-form :jsonSchema=${() => sampleJsonSchema}  > </foundation-form>
	...
`;
```

## Pre-fill forms with data (optional)

Use the `data` attribute to pre-fill the form with ready-made information. In this example, we only have a short set of data, so we have included it in the _route._**template.ts** for the component:

```html
...
const sampleData = {
    ISSUER_NAME: 'Some Issuer',
    INVIS: 'Invisible value!',
    USER: 'HerbertProhaska',
  };
...
export const HomeTemplate = html<Home>`
	...
  	<foundation-form resourceName="EVENT_TRADE_INSERT" :data=${() => sampleData}></foundation-form>
	...
`;
```

## License

Note: this project provides front-end dependencies and uses licensed components listed in the next section; thus, licenses for those components are required during development. Contact [Genesis Global](https://genesis.global/contact-us/) for more details.

### Licensed components
Genesis low-code platform
