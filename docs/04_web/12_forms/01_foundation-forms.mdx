---
title: 'Foundation Forms - Introduction'
sidebar_label: 'Introduction'
id: foundation-forms
keywords: [genesis, foundation, ui, forms, smart forms]
tags:
  - genesis
  - foundation
  - ui
  - forms
  - smart forms
---

# Foundation Forms

[![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lerna.js.org/)
[![TypeScript](https://img.shields.io/badge/%3C%2F%3E-TypeScript-%230074c1.svg)](https://www.typescriptlang.org/)

## [API Docs](./docs/api/index.md)

:::info
Examples in this documentation can be found on our [Genesis Community Success](https://github.com/genesiscommunitysuccess/form-examples) repo.
:::

`foundation-forms` is a library for efficiently building complex forms and filters at scale.

Foundation forms is defined by using two schemata:

- [resourceName](https://learn.genesis.global/docs/web/forms/docs/api/foundation-forms.filters.resourcename/?_highlight=resourcename) or [jsonSchema](https://learn.genesis.global/docs/web/forms/docs/api/foundation-forms.filters.jsonschema/?_highlight=jsonschema) defines the underlying data to be shown in the UI (objects, properties, and their types).
- [uiSchema](https://learn.genesis.global/docs/web/forms/docs/api/foundation-forms.uischema/?_highlight=uischema#uischema-type) defines how this data is rendered as a form, e.g. the order of controls, their visibility, and the layout.

## Forms

### Basic install

To enable this module in your application, follow the steps below.

1. Add `@genesislcap/foundation-forms` as a dependency in your **package.json** file. Whenever you change the dependencies of your project, ensure you run the `$ npm run bootstrap` command again. You can find more information in the [package.json basics](../../../web/basics/package-json-basics/) page.

```javascript
{
  ...
  "dependencies": {
    "@genesislcap/foundation-forms": "latest"
  },
  ...
}
```

### 1. Register components

To register the form component import the `Form` component in the `client/src/components/components.ts` file.

```ts
import { Form } from '@genesislcap/foundation-forms';
...
Form
...
```

### 2. Add component to the template

```html
<foundation-form
    resourceName="EVENT_TRADE_INSERT">
</foundation-form>
```

This should generate a working form based on the `JSON schema` for that endpoint. The DevTools console will output autogenerated `UI schema` that you can use to configure the form.

### 3. Configure form using UI schema

```ts
const sampleUISchema = {
  type: "VerticalLayout",
  elements: [
    {
      type: "Control",
      scope: "#/properties/QUANTITY",
      label: "Quantity",
    },
    {
      type: "Control",
      scope: "#/properties/SIDE",
      label: "Side",
    },
  ],
};
```

```html
<foundation-form
    resourceName="EVENT_TRADE_INSERT"
    :uischema=${() => sampleUISchema}>
</foundation-form>
```

### 4. Configure form using JSON schema (optional)

Instead of providing `resourceName`, you can hard-code the `JSON schema` on the client.

```ts
const sampleJsonSchema = {
  type: 'object',
  properties: {
    ISSUER_NAME: {
      type: 'string',
      minLength: 3,
      description: 'kotlin.String',
    },
    PRICE: {
      type: 'number',
      description: 'kotlin.Double',
    },
    MAIN_CONTACT: {
      type: 'string',
      pattern: '^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$',
      description: 'kotlin.String',
    },
    PASSWORD: {
      type: 'string',
      description: 'kotlin.String',
    },
  },
  additionalProperties: false,
  required: ['ISSUER_NAME', 'MAIN_CONTACT'],
};
```

```ts
const sampleUiSchema = {
  type: 'VerticalLayout',
  elements: [
    {
      type: 'Control',
      label: 'Issuer Name',
      scope: '#/properties/ISSUER_NAME',
    },
    {
      type: 'Control',
      label: 'Phone',
      scope: '#/properties/MAIN_CONTACT',
    },
    {
      type: 'Control',
      label: 'Price',
      scope: '#/properties/PRICE',
    },
    {
      type: 'Control',
      scope: '#/properties/COUNTERPARTY',
      options: {
        allOptionsResourceName: 'COUNTERPARTY',
        valueField: 'COUNTERPARTY_ID',
        labelField: 'COUNTERPARTY_ID',
        datasourceConfig: {
          request: {
            COUNTERPARTY_ID: 'ACME',
          },
        },
      },
    },
    {
      type: 'Control',
      label: 'Password',
      scope: '#/properties/PASSWORD',
      options: {
        isPassword: true,
      },
    },
  ],
};
```

```html
<foundation-form
    :jsonSchema=${() => sampleJsonSchema}
    :uischema=${() => sampleUISchema}>
</foundation-form>
```

:::info
Use this when you want to avoid fetching metadata from the server, but be aware that it could get out of sync if metadata changes on the server.
:::

### 5. Pre-fill forms with data (optional)

Use the `data` attribute, which allows you to pre-fill the form with ready-made information. A common use case for this is when editing an existing record.

```ts
const existingData = {
  ISSUER_NAME: 'Genesis',
  PRICE: 100,
  MAIN_CONTACT: '555-555-5555',
  PASSWORD: 'secret_password',
};
```

```html
<foundation-form
    resourceName="EVENT_TRADE_INSERT"
    :uischema=${() => sampleUISchema}
    :data=${() => sampleData}>
</foundation-form>
```

### 6. Handling the submit event

When the submit button is the form emits a `submit` event. You can listen to this in your template by adding `@submit="..."` to the foundation-form element.

Assuming your class has a method called `handleFormSubmit`, the second parameter of the callback function `ctx.event` contains the event emitted by the form element. The `event.detail` property will contain a payload of the form state that looks like `{ errors: [...], payload: {...}`. Any form errors will be listed in the `errors` array and the `payload` property will be an object that matches your jsonSchema.

If you have configured your form with a `resource-name` property the form will post to the backend event handler specified. You can still listen to the submit event - you might want to clear the form, or show/hide a message etc.

```ts
import { customElement, ... } from '@genesislcap/web-core';
...

<foundation-form
    resourceName="EVENT_TRADE_INSERT"
    @submit="${(x, ctx) => x.handleFormSubmit(customEvent(ctx))}"
    :uischema=${() => sampleUISchema}
    :data=${() => sampleData}>
</foundation-form>
```

Full source code at [Forms introduction](https://github.com/genesiscommunitysuccess/form-examples/tree/main/client/src/routes/forms-introduction)

## License

Note: this project provides front-end dependencies and uses licensed components listed in the next section; thus, licenses for those components are required during development. Contact [Genesis Global](https://genesis.global/contact-us/) for more details.

### Licensed components
Genesis low-code platform
