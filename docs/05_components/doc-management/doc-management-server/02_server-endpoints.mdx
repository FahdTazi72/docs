---
title: 'Document Management - Endpoints'
sidebar_label: 'Endpoints'
id: doc-management-endpoints
keywords: [doc-management, endpoints]
tags:
  - doc-management
  - file-storage-endpoints
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Document Management exposes upload, download and list file endpoints. Endpoints are registered automatically upon start up.

## Endpoints

### File Upload

To upload a file, send a multiform POST request to the following resource path `/file-server/upload`.


### File Download

To download a file, send a GET request to the following resource path with the following query param `/file-server/download?fileStorageId=<fileStorageId>`.


### List All Files

To list all files, send a GET request to `/file-server/all-files`.


### Linking Assets

To link assets (css, image files etc...), you will need to create your own event handler. The event handler will need to insert one or more objects into
the `TemplateAsset` table. Use the following as an example.

```kotlin
    data class LinkTemplateAssets(
      val templateId: String,
      val assetIds: List<String>
    )

    eventHandler<LinkTemplateAssets>(name = "LINK_TEMPLATE_ASSETS") {
        onCommit { event ->
            val details = event.details

            val templateAssets = details.assetIds.map {
                TemplateAsset {
                    templateId = details.templateId
                    assetId = it
                }
            }

            entityDb.insertAll(templateAssets)
            ack()
        }
    }
```

Once you event handler is registered, and you have uploaded both the template and asset file(s), you can send a POST request to `EVENT_LINK_TEMPLATE_ASSETS` with the following request body

```json
{
  "MESSAGE_TYPE": "EVENT_LINK_TEMPLATE_ASSETS",
  "USER_NAME": "<USER_NAME>",
  "DETAILS": {
    "TEMPLATE_ID": "<templateId>",
    "ASSET_IDS": ["assetId","assetId"]
  }
}
```