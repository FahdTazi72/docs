---
sidebar_position: 4
title: Views Entities
sidebar_label: Views Entities
id: views-entities

---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

View Entities are classes generated by Genesis that match the [data model](/creating-applications/defining-your-application/data-model/views/views/). The view entity
name will be as specified in its definition but rather than snake case, it will be camel case, from `VIEW_NAME` to `ViewName`. There are two types of view entities SingleCardinalityViewEntity and MultiCardinalityViewEntity, for more information visit this link [Views](/reference/developer/api/database/concepts/data-structure/views/#types-of-view)

## Index entities

Views have [index entities](../indices). These are also convenient methods that construct an
index entity from the view entity. `byPrimaryKey()` will return an entity for the primary key. Additionally for each
index, there will be a `by...()` call with the index name.

## Build view entity

Generated ViewEntities are kotlin data classes and can be built using the primary constructor. Just before the object is built, the object is validated to make sure all [required fields](../../../concepts/data-structure/tables/#fields) have been set.
Some of the useful methods/properties described below

|  Name  | Signature | Description |
|---------------|-------------|-------------|
| byPrimaryKey | `fun byPrimaryKey(): UniqueEntityIndex<*, *>` | gets entity by primaryKey |
| by{indexField} | `fun by{indexField}(): By{indexField}` | gets entity by index fields |
| toString | fun toString(): String | gets the string representation of view with sensitive fields(Ex: Password) masked |
| toStringWithSensitivesUnmasked | `fun toStringWithSensitivesUnmasked(): String` | gets the string representation of view with sensitive fields(Ex: Password) unmasked |
| toDbRecord | `fun toDbRecord(entity: E): DbRecord` | Converts entity to [DbRecord](/reference/developer/api/database/how-to/data-types/dbrecord/) |
| toGenesisSetFormatted | `fun toGenesisSetFormatted(entity: E, configs: Collection<ColumnConfig>? = null): GenesisSet` | Converts view to [GenesisSet](/managing-applications/operate/inter-process-messages/genesis-set/) and applies any formatter/aliases assigned to the fields |
| toGenesisSet | `fun toGenesisSet(entity: E, columns: Collection<String>): GenesisSet` | Converts view to [GenesisSet](/managing-applications/operate/inter-process-messages/genesis-set/). This is the plain representation of view fields |
| get | `operator fun get(field: String): Any?` | gets provided field value |
| fieldToPropertyMap | `val fieldToPropertyMap: Map<String, KProperty1<V, Any?>>` | This is a class property which maps field name to its property |

## Examples

Using following a table and view for example:
```kotlin
  // table definition
    table(name="CUSTOMER", id = 11002) {
      CUSTOMER_NAME
      CUSTOMER_ADDRESS
      COUNTRY
      CUSTOMER_PASSWORD sensitive "XXXXXX"
      primaryKey {
        CUSTOMER_NAME
      }
    }

  // view definition
     view("CUSTOMER_VIEW", CUSTOMER) {
       fields {
         CUSTOMER.CUSTOMER_NAME
         CUSTOMER.CUSTOMER_PASSWORD
         CUSTOMER.CUSTOMER_ADDRESS
         CUSTOMER.COUNTRY
       }
     }

  // Examples
  val customerView = CustomerView("Customer_1", "PASSWORD", "London", "UK")

  // toGenesisSet
  customerView.toGenesisSet(listOf("CUSTOMER_NAME"))
  // Output: CUSTOMER_NAME = Customer_1

  // toGenesisSetFormatted
  customerView.toGenesisSetFormatted(listOf(ColumnConfig.Field.Aliased("COUNTRY", "CUSTOMER_COUNTRY")))
  // Output: CUSTOMER_COUNTRY = UK

  // toString
  customerView.toString()
  // Output: global.genesis.gen.view.entity.CustomerView{serialVersionUID='1', customerName=Customer_1, customerPassword=XXXXXX, customerAddress=London, country=UK, recordId={not-set}, timestamp={not-set}}

  // toStringWithSensitivesUnmasked
  customerView.toStringWithSensitivesUnmasked()
  // Output: global.genesis.gen.view.entity.CustomerView{serialVersionUID='1', customerName=Customer_1, customerPassword=PASSWORD, customerAddress=London, country=UK, recordId={not-set}, timestamp={not-set}}

  // get
  customerView.get("CUSTOMER_NAME")
  // Output: Customer_1
```
