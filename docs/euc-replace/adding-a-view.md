---
id: j-add-view
title: Adding a view
sidebar_label: Adding a view

---
At this stage, you have 

* a Ref_data_app (with all its tables). The schema can be imported into the trading_app. 
* a trading_app that contains the schema for the TRADE table. This table will be used to generate the event handlers, data servers and request server. 

\## Creating the view

You need to create a view that can display relevant information about the trades table (ENHANCED_TRADE_VIEW). 

The trading app already has a view created by the **ExcelToGenesis** script. So now you can add a new view called ENHANCED_TRADE_VIEW. This new view makes it possible to display relevant information about the trades table (ENHANCED_TRADE_VIEW).

The view will have the TRADE table as root, and this root will be joined to ENHANCED_TRADE_VIEW and will join to COUNTERPARTY and INSTRUMENT tables. The view will display all the TRADE fields except INSTRUMENT_ID and COUNTERPARTY_ID. These two fields should be replaced by the NAME field extracted from the INSTRUMENT table join and the COUNTERPARTY table join.

In short, you will add INSTRUMENT_NAME and COUNTERPARTY_NAME) to enhance the view with human readable values. 

Also remove counterparty name and instrument symbol from the trade table  

Run code gen for views; we have to do this to use the view. 

Replace the current ALL_TRADES query in the dataserver definition (inside -script-config module) for the new ENHANCED_TRADE_VIEW. 

\## Testing

You need to create a unit test showing usage of the view repository generated by our code generation mechanism.  

Add a new folder in config and add db-test dependency to this folder.

Add genesis home folder with empty txt file â€“ this folder is needed for unit tests and Add TEST_DATA 

Add dependency on **ref_data_app-config module** in pom file 

The purpose of the test is to prove you can look up data with the repo and retrieve the joined-up structure. We can show that we can:

* look up by keys
* perform get bulk from the main table. 

\### Test with single trade 

\### Test with single trade - use get 

\### Test with single trade - but no joins 

\### Test multiple trades